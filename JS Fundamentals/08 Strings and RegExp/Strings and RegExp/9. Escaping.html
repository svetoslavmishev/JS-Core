<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Escaping</title>
</head>
<body>
<div><label for="userInput">Paste test input here:</label></div>
<div>
    <textarea rows="12" cols="40" id="userInput"></textarea>
    <input type="button" value="Escape"
           onclick="document.getElementById('result').innerHTML = htmlEscape(JSON.parse(document.getElementById('userInput').value.replace(/'/g, String.fromCharCode(34))));"/>
</div>
<div><label for="result">Results will show up here:</label></div>
<div id="result"></div>
<script>
    function htmlEscape(input) {
        let symbols = {'"': '&quot;', '&': '&amp;', '<': '&lt;', '>': '&gt;'};
        let replaced = input.map(x => x.replace(/[\"&'<>]/g, y => symbols[y]));
        let html = `<ul>\n` + replaced.map(i => `  <li>${i}</li>`).join('\n') + '\n' + `</ul>`;
        return html;
    }
</script>
</body>
</html>
